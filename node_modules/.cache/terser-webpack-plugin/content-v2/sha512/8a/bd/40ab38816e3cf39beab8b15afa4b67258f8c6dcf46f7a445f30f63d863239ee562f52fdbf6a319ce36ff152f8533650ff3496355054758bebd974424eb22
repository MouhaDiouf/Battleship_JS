{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=3)}([function(e,t){throw new Error(\"Module parse failed: Unterminated template (161:69)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|       gameOverDiv.classList.add('game-over-div')\\n|       const gameOverTitle = document.createElement('h2');\\n>       gameOverTitle.innerHTML = `Game Over, ${message} Start again?``;\\n|       const restartButton = document.createElement('button');\\n|       restartButton.innerHTML = 'Restart';\")},function(e,t){e.exports=function(e){return{length:e,places:new Array(e).fill(\"not hit\"),state:\"not-sunk\",hit:function(e){this.places[e-1]=\"hit\"},isSunk:function(){return!!this.places.every(e=>\"hit\"===e)&&(this.state=\"sunk\",!0)},ship_coordonates:[]}}},function(e,t,n){const r=n(0);e.exports=function(){return{turn:!1,gameEnvironment:r(),placeShip:function(e,t,n){const r=this.gameEnvironment.createShip(e);this.gameEnvironment.placeShip(r,t,n)},printBoard:function(){const e=document.createElement(\"div\");e.classList.add(\"board\",\"player-board\");const t=document.querySelector(\".container\");t.innerHTML=\"\";const n=document.createElement(\"table\");n.innerHTML+=\"<tbody> </tbody>\",e.appendChild(n),t.appendChild(e),this.gameEnvironment.board.forEach((e,t)=>{let n=document.querySelectorAll(\"tbody\"),r=n[n.length-1],o=document.createElement(\"tr\");for(let t of e){const e=document.createElement(\"td\");if(t.match(/ship/g)){const n=t.match(/ship_\\d+/)[0],r=t.match(/[A-Z]\\d+/)[0];e.classList.add(\"player-ship\",n,r)}else e.classList.add(t);e.innerHTML=\"\",o.appendChild(e)}r.appendChild(o)})},updateBoard:function(){if(document.querySelector(\".comp-move\")){const e=document.querySelector(\".comp-move\").innerHTML,t=e.match(/[A-J]/g)[0],n=Number(e.match(/\\d+/g)[0]);this.gameEnvironment.receiveAttack(t,n),this.updatePlayerCell(e)}Array.from(document.querySelectorAll(\".player-board td\")).forEach(e=>{if(e.className.match(/hit/g)){const t=e.className,n=t.match(/ship_\\d+/)[0],r=Number(n.charAt(n.length-1)),o=t.match(/[A-Z]\\d+/)[0],a=this.gameEnvironment.ships[r];for(let e=0;e<a.ship_coordonates.length;e++)a.ship_coordonates[e]==o&&(a.places[e]=\"hit\",a.isSunk()&&this.changeShipSunkColor(a))}else e.className.match(/miss/g)})},changeShipSunkColor:function(e){const t=Array.from(document.querySelectorAll(\".player-board td\"));let n=10*this.gameEnvironment.letterToNum[e.ship_coordonates[0][0]]+Number(e.ship_coordonates[0].match(/\\d+/g)[0])-1,r=0;for(;r<e.length;)t[n].classList.add(\"sunk\"),n++,r++},updatePlayerCell:function(e){let t=document.querySelector(`.player-board .${e}`);null===t&&(t=document.querySelector(`.player-board .${e}-blank`)),t.classList.contains(\"player-ship\")?t.classList.add(\"hit\"):t.classList.add(\"miss\")},placeRandomShips:function(){[1,1,1,1,2,2,2,3,3,4].forEach(e=>{let t=this.randomPlace();for(;!this.validPosition(e,t[0],t[1]);)t=this.randomPlace();this.placeShip(e,t[0],t[1])}),this.printBoard()},randomPlace:function(){return[String.fromCharCode(65+Math.round(9*Math.random())),Math.ceil(10*Math.random())]},validPosition:function(e,t,n){const r=this.gameEnvironment.board[this.gameEnvironment.letterToNum[t]];if(n+e<=10){let t=n+e-1;for(;t>n-1;){if(r[t-1].match(/blank/)||r[t-1].match(/ship/))return!1;t--}return!0}{let t=n-e-1;for(;n-1>t;){if(r[n-1].match(/blank/)||r[n-1].match(/ship/))return!1;n--}return!0}}}}},function(e,t,n){n(1),n(0),n(2);n(4)().start()},function(e,t,n){const r=n(2),o=n(5);e.exports=function(){return{start:function(){const e=r(),t=o();e.placeRandomShips(),t.placeRandomShips();const n=setInterval((function(){e.gameEnvironment.all_ships_sunk()||t.gameEnvironment.all_ships_sunk()?(e.gameEnvironment.all_ships_sunk()?e.gameEnvironment.game_over(\"You win!\"):e.gameEnvironment.game_over(\"Computer wins!\"),clearInterval(n)):(t.updateBoard(),e.updateBoard())}),300)}}}},function(e,t,n){const r=n(0);e.exports=function(){return{randomMove:function(){const e=[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\"];return[e[Math.floor(Math.random()*e.length)],Math.ceil(10*Math.random())]},turn:!0,gameEnvironment:r(),placeShip:function(e,t,n){const r=this.gameEnvironment.createShip(e);this.gameEnvironment.placeShip(r,t,n)},printBoard:function(){const e=document.createElement(\"div\");e.classList.add(\"board\",\"computer-board\");const t=document.querySelector(\".container\"),n=document.createElement(\"table\");n.innerHTML+=\"<tbody> </tbody>\",e.appendChild(n),t.appendChild(e),this.gameEnvironment.board.forEach((e,t)=>{let n=document.querySelectorAll(\"tbody\"),r=n[n.length-1],o=document.createElement(\"tr\");for(let t of e){const e=document.createElement(\"td\");if(t.match(/ship/g)){const n=t.match(/ship_\\d+/)[0],r=t.match(/[A-Z]\\d+/)[0];e.classList.add(\"computer-ship\",n,r)}else e.classList.add(t);e.innerHTML=\"\",o.appendChild(e)}r.appendChild(o)}),document.querySelector(\".computer-board\").addEventListener(\"click\",this.updateCell)},updateBoard:function(){if(document.querySelector(\".turn\")){let e=document.querySelector(\".turn\");if(\"Computer\"===e.innerHTML){const t=this.validRandomComputerMove();if(document.querySelector(\".comp-move\")){const e=document.querySelector(\".comp-move\");e.innerHTML=\"\",e.innerHTML+=`${t[0]}`,e.innerHTML+=`${t[1]}`}else{let e=document.createElement(\"span\");e.className=\"comp-move\",e.innerHTML+=`${t[0]}`,e.innerHTML+=`${t[1]}`,document.querySelector(\"body\").appendChild(e)}e.innerHTML=\"Player\",document.querySelector(\".computer-board\").removeEventListener(\"click\",this.updateCell)}else document.querySelector(\".computer-board\").addEventListener(\"click\",this.updateCell)}Array.from(document.querySelectorAll(\".computer-board td\")).forEach(e=>{if(e.className.match(/hit/g)){const t=e.className,n=t.match(/ship_\\d+/)[0],r=Number(n.charAt(n.length-1)),o=t.match(/[A-Z]\\d+/)[0],a=this.gameEnvironment.ships[r];for(let e=0;e<a.ship_coordonates.length;e++)a.ship_coordonates[e]==o&&(a.places[e]=\"hit\",a.isSunk()&&this.changeShipSunk(a))}})},validRandomComputerMove:function(){let e=this.randomMove();for(;-1!==this.gameEnvironment.moves.indexOf(e.join(\"\"));)e=this.randomMove();return this.gameEnvironment.moves.push(e.join(\"\")),e},changeShipSunk:function(e){const t=Array.from(document.querySelectorAll(\".computer-board td\"));let n=10*this.gameEnvironment.letterToNum[e.ship_coordonates[0][0]]+Number(e.ship_coordonates[0].match(/\\d+/g)[0])-1,r=0;for(;r<e.length;)t[n].classList.add(\"sunk\"),n++,r++},updateCell:function(e){if(\"td\"===e.target.tagName.toLowerCase()){let t=e.target.className.split(\" \").find(e=>e.match(/[A-Z]\\d+/g));if(t.length>3&&(t=t.split(\"-\")[0]),document.querySelector(\".player-move\")){const e=document.querySelector(\".player-move\");e.innerHTML=\"\",e.innerHTML=t}else{const e=document.createElement(\"span\");e.className=\"player-move\",e.innerHTML=t,document.querySelector(\"body\").appendChild(e)}if(e.target.classList.contains(\"hit\")||e.target.classList.contains(\"miss\"))return void alert(\"you can't play twice\");if(document.querySelector(\".turn\"))document.querySelector(\".turn\").innerHTML=\"Computer\";else{const e=document.createElement(\"span\");e.className=\"turn\",e.innerHTML=\"Computer\",document.querySelector(\"body\").appendChild(e)}e.target.classList.contains(\"computer-ship\")?e.target.classList.add(\"hit\"):e.target.classList.add(\"miss\")}},placeRandomShips:function(){[1,1,1,1,2,2,2,3,3,4].forEach(e=>{let t=this.randomPlace();for(;!this.validPosition(e,t[0],t[1]);)t=this.randomPlace();this.placeShip(e,t[0],t[1])}),this.printBoard()},randomPlace:function(){return[String.fromCharCode(65+Math.round(9*Math.random())),Math.ceil(10*Math.random())]},validPosition:function(e,t,n){const r=this.gameEnvironment.board[this.gameEnvironment.letterToNum[t]];if(n+e<=10){let t=n+e-1;for(;t>n-1;){if(r[t-1].match(/blank/)||r[t-1].match(/ship/))return!1;t--}return!0}{let t=n-e-1;for(;n-1>t;){if(r[n-1].match(/blank/)||r[n-1].match(/ship/))return!1;n--}return!0}}}}}]);","extractedComments":[]}